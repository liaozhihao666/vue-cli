{"remainingRequest":"C:\\Users\\web-01\\Desktop\\4\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web-01\\Desktop\\4\\vue\\src\\components\\subcomponents\\comment.vue?vue&type=style&index=0&lang=css","dependencies":[{"path":"C:\\Users\\web-01\\Desktop\\4\\vue\\src\\components\\subcomponents\\comment.vue","mtime":1535685854000},{"path":"C:\\Users\\web-01\\Desktop\\4\\vue\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\web-01\\Desktop\\4\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907990000},{"path":"C:\\Users\\web-01\\Desktop\\4\\vue\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\web-01\\Desktop\\4\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853418000},{"path":"C:\\Users\\web-01\\Desktop\\4\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.cm-container h1{\n  font-size: 16px;\n}\n.cm-container textarea{\n  font-size:14px;\n  height: 85px;\n  margin:0;\n}\n.cm-container .cmt-list{\n  margin:5px 0;\n}\n.cm-container .cmt-list .cmt-item{\n  font-size:12px;\n}\n.cm-container .cmt-list .cmt-item .cmt-title{\n  line-height: 30px;\n  background-color: aliceblue;\n}\n.cm-container .cmt-list .cmt-item .cmt-body{\n  line-height: 30px;\n  background-color: aliceblue;\n  margin: 2px 0;\n  text-indent: 2em;\n}\n",{"version":3,"sources":["comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"comment.vue","sourceRoot":"src\\components\\subcomponents","sourcesContent":["<template>\r\n    <div class=\"cm-container\">\r\n        <h1>发表评论</h1>\r\n        <hr>\r\n        <textarea placeholder=\"输入\" maxlength=\"120\" v-model=\"msg\"></textarea>\r\n        <mt-button type=\"primary\" size=\"large\" @click=\"postComment\">j</mt-button>\r\n        <!--=评论列表-->\r\n        <div class=\"cmt-list\">\r\n          <div class=\"cmt-item\" v-for=\"(i,k) in list\" :key=\"k\">\r\n            <div class=\"cmt-title\">\r\n              第{{k+1}}楼&nbsp;&nbsp;用户:{{i.use_name}} &nbsp;\r\n              发表时间:{{i.add_time | datetimeFilter}}\r\n            </div>\r\n            <div class=\"cmt-body\">\r\n              {{i.content}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <mt-button type=\"danger\" size=\"large\" @click=\"getMore\">加载更多</mt-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    //import {Toast} from \"mint-ui\"\r\n\r\n    export default{\r\n        data(){\r\n            return {\r\n              msg:\"\",\r\n              pno:1,\r\n              list:[]\r\n            }\r\n        },\r\n        created() {\r\n            //console.log(\"父传递\"+this.nid);\r\n            this.getComment();\r\n        },\r\n        methods:{\r\n          getComment(){\r\n            var nid=this.nid;\r\n            var pno=this.pno;\r\n            var url=`commentlist/list?nid=${nid}&pno=${pno}`;\r\n            this.$http.get(url).then(result=>{\r\n              console.log(result);\r\n              var obj=result.body;\r\n              if(obj.code==1){\r\n                this.list=this.list.concat(obj.msg);\r\n              }else{\r\n                Toast(\"网络故障请检查\")\r\n              }\r\n            })\r\n          },\r\n          postComment(){\r\n            //console.log(123);\r\n            var m=this.msg.trim();\r\n            if(m.length<1){\r\n              Toast(\"必须大于1\");\r\n              return;\r\n            }\r\n            var nid=this.nid;\r\n            var url=`commentlist/postcomment?nid=${nid}&use_name=wp&content=${m}`;\r\n            //console.log(url);\r\n            this.$http.get(url).then(result=>{\r\n              var obj=result.body;\r\n              if(obj.code==1){\r\n                Toast(obj.msg);\r\n                this.msg=\"\";\r\n              }\r\n            })\r\n          },\r\n          getMore(){\r\n            this.pno++;\r\n            this.getComment();\r\n          }\r\n        },\r\n        props:[\"nid\"]\r\n    }\r\n</script>\r\n\r\n<style>\r\n  .cm-container h1{\r\n    font-size: 16px;\r\n  }\r\n  .cm-container textarea{\r\n    font-size:14px;\r\n    height: 85px;\r\n    margin:0;\r\n  }\r\n  .cm-container .cmt-list{\r\n    margin:5px 0;\r\n  }\r\n  .cm-container .cmt-list .cmt-item{\r\n    font-size:12px;\r\n  }\r\n  .cm-container .cmt-list .cmt-item .cmt-title{\r\n    line-height: 30px;\r\n    background-color: aliceblue;\r\n  }\r\n  .cm-container .cmt-list .cmt-item .cmt-body{\r\n    line-height: 30px;\r\n    background-color: aliceblue;\r\n    margin: 2px 0;\r\n    text-indent: 2em;\r\n  }\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n"]}]}