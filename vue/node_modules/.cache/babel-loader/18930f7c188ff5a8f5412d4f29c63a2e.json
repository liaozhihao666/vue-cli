{"remainingRequest":"C:\\Users\\web-01\\Desktop\\vue个人项目\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web-01\\Desktop\\vue个人项目\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web-01\\Desktop\\vue个人项目\\vue\\src\\components\\subcomponents\\comment.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\web-01\\Desktop\\vue个人项目\\vue\\src\\components\\subcomponents\\comment.vue","mtime":1538983774931},{"path":"C:\\Users\\web-01\\Desktop\\vue个人项目\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853418000},{"path":"C:\\Users\\web-01\\Desktop\\vue个人项目\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\web-01\\Desktop\\vue个人项目\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from \"mint-ui\";\nexport default {\n  data: function data() {\n    return {\n      msg: \"\",\n      pno: 1,\n      list: []\n    };\n  },\n  created: function created() {\n    this.getComment();\n  },\n  methods: {\n    getComment: function getComment() {\n      var _this = this;\n\n      var nid = this.nid;\n      var pno = this.pno;\n      var url = \"commentlist/list?nid=\".concat(nid, \"&pno=\").concat(pno);\n      this.$http.get(url).then(function (result) {\n        console.log(result);\n        var obj = result.body;\n\n        if (obj.code == 1) {\n          _this.list = _this.list.concat(obj.msg);\n        } else {\n          Toast(\"网络故障请检查\");\n        }\n      });\n    },\n    postComment: function postComment() {\n      var _this2 = this;\n\n      //console.log(123);\n      var m = this.msg.trim();\n\n      if (m.length < 1) {\n        Toast(\"必须大于1\");\n        return;\n      }\n\n      var nid = this.nid;\n      var url = \"commentlist/postcomment?nid=\".concat(nid, \"&use_name=wp&content=\").concat(m); //console.log(url);\n\n      this.$http.get(url).then(function (result) {\n        var obj = result.body;\n\n        if (obj.code == 1) {\n          Toast(obj.msg);\n          _this2.msg = \"\";\n        }\n      });\n    },\n    getMore: function getMore() {\n      this.pno++;\n      this.getComment();\n    }\n  },\n  props: [\"nid\"]\n};",{"version":3,"sources":["comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuBA,SAAA,KAAA,QAAA,SAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,WAAA,EADA;AAEA,WAAA,CAFA;AAGA,YAAA;AAHA,KAAA;AAKA,GAPA;AAQA,SARA,qBAQA;AACA,SAAA,UAAA;AACA,GAVA;AAWA,WAAA;AACA,cADA,wBACA;AAAA;;AACA,UAAA,MAAA,KAAA,GAAA;AACA,UAAA,MAAA,KAAA,GAAA;AACA,UAAA,qCAAA,GAAA,kBAAA,GAAA,CAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,gBAAA,GAAA,CAAA,MAAA;AACA,YAAA,MAAA,OAAA,IAAA;;AACA,YAAA,IAAA,IAAA,IAAA,CAAA,EAAA;AACA,gBAAA,IAAA,GAAA,MAAA,IAAA,CAAA,MAAA,CAAA,IAAA,GAAA,CAAA;AACA,SAFA,MAEA;AACA,gBAAA,SAAA;AACA;AACA,OARA;AASA,KAdA;AAeA,eAfA,yBAeA;AAAA;;AACA;AACA,UAAA,IAAA,KAAA,GAAA,CAAA,IAAA,EAAA;;AACA,UAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,cAAA,OAAA;AACA;AACA;;AACA,UAAA,MAAA,KAAA,GAAA;AACA,UAAA,4CAAA,GAAA,kCAAA,CAAA,CAAA,CARA,CASA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,YAAA,MAAA,OAAA,IAAA;;AACA,YAAA,IAAA,IAAA,IAAA,CAAA,EAAA;AACA,gBAAA,IAAA,GAAA;AACA,iBAAA,GAAA,GAAA,EAAA;AACA;AACA,OANA;AAOA,KAhCA;AAiCA,WAjCA,qBAiCA;AACA,WAAA,GAAA;AACA,WAAA,UAAA;AACA;AApCA,GAXA;AAiDA,SAAA,CAAA,KAAA;AAjDA,CAAA","sourcesContent":["<template>\r\n    <div class=\"cm-container\">\r\n        <h1>发表评论</h1>\r\n        <hr>\r\n        <textarea placeholder=\"输入\" maxlength=\"120\" v-model=\"msg\"></textarea>\r\n        <mt-button type=\"danger\" size=\"large\" @click=\"postComment\">提交</mt-button>\r\n        <!--=评论列表-->\r\n        <div class=\"cmt-list\">\r\n          <div class=\"cmt-item\" v-for=\"(i,k) in list\" :key=\"k\">\r\n            <div class=\"cmt-title\">\r\n              第{{k+1}}楼&nbsp;&nbsp;用户:{{i.use_name}} &nbsp;\r\n              发表时间:{{i.add_time | datetimeFilter}}\r\n            </div>\r\n            <div class=\"cmt-body\">\r\n              {{i.content}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <mt-button type=\"danger\" size=\"large\" @click=\"getMore\">加载更多</mt-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {Toast} from \"mint-ui\"\r\n    export default{\r\n        data(){\r\n            return {\r\n              msg:\"\",\r\n              pno:1,\r\n              list:[]\r\n            }\r\n        },\r\n        created() {\r\n            this.getComment();\r\n        },\r\n        methods:{\r\n          getComment(){\r\n            var nid=this.nid;\r\n            var pno=this.pno;\r\n            var url=`commentlist/list?nid=${nid}&pno=${pno}`;\r\n            this.$http.get(url).then(result=>{\r\n              console.log(result);\r\n              var obj=result.body;\r\n              if(obj.code==1){\r\n                this.list=this.list.concat(obj.msg);\r\n              }else{\r\n                Toast(\"网络故障请检查\")\r\n              }\r\n            })\r\n          },\r\n          postComment(){\r\n            //console.log(123);\r\n            var m=this.msg.trim();\r\n            if(m.length<1){\r\n              Toast(\"必须大于1\");\r\n              return;\r\n            }\r\n            var nid=this.nid;\r\n            var url=`commentlist/postcomment?nid=${nid}&use_name=wp&content=${m}`;\r\n            //console.log(url);\r\n            this.$http.get(url).then(result=>{\r\n              var obj=result.body;\r\n              if(obj.code==1){\r\n                Toast(obj.msg);\r\n                this.msg=\"\";\r\n              }\r\n            })\r\n          },\r\n          getMore(){\r\n            this.pno++;\r\n            this.getComment();\r\n          }\r\n        },\r\n        props:[\"nid\"]\r\n    }\r\n</script>\r\n\r\n<style>\r\n  .cm-container h1{\r\n    font-size: 16px;\r\n  }\r\n  .cm-container textarea{\r\n    font-size:14px;\r\n    height: 85px;\r\n    margin:0;\r\n  }\r\n  .cm-container .cmt-list{\r\n    margin:5px 0;\r\n  }\r\n  .cm-container .cmt-list .cmt-item{\r\n    font-size:12px;\r\n  }\r\n  .cm-container .cmt-list .cmt-item .cmt-title{\r\n    line-height: 30px;\r\n    background-color: aliceblue;\r\n  }\r\n  .cm-container .cmt-list .cmt-item .cmt-body{\r\n    line-height: 30px;\r\n    background-color: aliceblue;\r\n    margin: 2px 0;\r\n    text-indent: 2em;\r\n  }\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":"src\\components\\subcomponents"}]}